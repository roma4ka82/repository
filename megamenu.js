function mmpro_aim(){function e(e){$(e).hasClass("dropdown")&&($(e).addClass("menu-open"),$(e).closest("#menu-vertical").addClass("border-radius-right-off"))}function o(e){$(e).removeClass("menu-open"),$(e).find(".block-opacity").removeClass("active"),$(e).closest("#menu-vertical").removeClass("border-radius-right-off")}$(".menu-header-box.type-menu-h-1:not(.m-sticky)").hasClass("mm_open_hp")?$("#menu-vertical #menu-vertical-list").menuAim({activateCallback:e,deactivateCallback:o}):$("#menu-vertical #menu-vertical-list").menuAim({activateCallback:e,deactivateCallback:o,enterCallback:function(e){$("#menu-vertical-list > li").removeClass("menu-open")},exitMenuActiveLastRow:function(e){$(e).hasClass("dropdown")&&$(e).addClass("menu-open")}}),$(".dropdown-menu-simple .nsmenu-haschild").menuAim({activateCallback:function(e){$(e).hasClass("nsmenu-issubchild")&&($(e).addClass("menu-open-2level"),$(e).parent().addClass("border-radius-right-off"))},deactivateCallback:function(e){$(e).removeClass("menu-open-2level"),$(e).parent().removeClass("border-radius-right-off")}}),$(".dropdown-menu-simple .nsmenu-ischild-simple > ul").menuAim({activateCallback:function(e){$(e).addClass("menu-open-4level"),$(e).parent().addClass("border-radius-right-off")},deactivateCallback:function(e){$(e).removeClass("menu-open-4level"),$(e).parent().removeClass("border-radius-right-off")}}),$(".ns-dd").hover(function(){$(this).parent().find(".parent-link").toggleClass("hover")}),$(".child-box").hover(function(){$(this).parent().find(".with-child").toggleClass("hover")}),$(".nsmenu-ischild.nsmenu-ischild-simple").hover(function(){$(this).parent().find("> a").toggleClass("hover")}),$(".child_4level_simple").hover(function(){$(this).parent().find("> a").toggleClass("hover")}),$("#menu-vertical #menu-vertical-list .dropdown-menu").each(function(){var e=$("#menu-vertical").offset(),o=$(this).parent().offset().left+$(this).outerWidth()-(e.left+$("#menu-vertical").outerWidth());o>0&&$(this).css("margin-left","-"+(o+5)+"px")}),$('.nsmenu-type-manufacturer a[data-toggle="tooltip"]').tooltip({animated:"fade",placement:"top",template:'<div class="tooltip tooltip-manufacturer" role="tooltip"><div class="arrow"></div><div class="tooltip-inner tooltip-manufacturer-inner"></div></div>',html:!0})}function heightMenuOpenHp(){if(viewport().width>1199&&$(".menu-header-box.type-menu-h-1:not(.m-sticky)").hasClass("mm_open_hp")){var e=document.querySelector(".home-page-content-top").clientHeight;$(".menu-box.m_type_header_1").css("height",e-40)}}function fixTopMenu(){var e=document.querySelector("#top"),o=($("header").offset().top,document.querySelector("header").clientHeight),t=$(".htop-b-pc").height(),n=0;if($(".tabs__header.tabs_top.fix_tabs_pc").length)n=document.querySelector(".tabs_top.fix_tabs_pc .nav-tabs").offsetHeight;viewport().width>991&&$(".sticky-left-block").length?$(".sticky-left-block").css("top",o+n+20):$(".sticky-left-block").css("top",0),heightMenuOpenHp(),fixDesktopsMenu=function(){var n=$(".home-page-content-top");$(this).scrollTop()>e.offsetHeight+t&&viewport().width>991?($(".tabs__header.tabs_top.fix_tabs_pc").length&&($(this).scrollTop()>$(".tabs__header.tabs_top").offset().top-82?$("header .tabs__header").length||$("header").append('<div class="tabs__header">'+$(".tabs__header").html()+"</div>"):$("header .tabs__header").remove()),1==$(".menu-header-box").hasClass("type-menu-h-1")&&($(".menu-header-box.type-menu-h-1").hasClass("mm_open_hp")?n.length&&$(this).scrollTop()>n.offset().top+n.outerHeight()-o+2?$(".menu-header-box").addClass("m-sticky").css("top",document.querySelector("header").clientHeight+"px"):($(".menu-header-box.type-menu-h-1 #menu-vertical-list > li").removeClass("menu-open"),$(".menu-header-box").removeClass("m-sticky").css("top","0px")):$(".menu-header-box").addClass("m-sticky").css("top",document.querySelector("header").clientHeight+"px"))):1==$(".menu-header-box").hasClass("type-menu-h-1")&&$(".menu-header-box").removeClass("m-sticky").css("top","0px")},viewport().width>991&&$("header").hasClass("fix-header")&&($(window).scroll(function(){fixDesktopsMenu()}),$(window).scrollTop()>0&&fixDesktopsMenu())}function heightMenu(){window.innerHeight;$(".menu-box.m_type_header_1").removeAttr("style"),heightMenuOpenHp()}function toggleMenu(){$("html").toggleClass("vw-100"),$(".menu-header-box.type-menu-h-1, .menu-header-box.type-menu-h-2").toggleClass("active-m"),$("#menu-vertical").toggleClass("open"),$("html").hasClass("vw-100")?($(".menu-header-box.type-menu-h-1").addClass("m-sticky").css("top",document.querySelector("header").clientHeight+"px"),$(".menu-box").hasClass("menu_mask")?$("html").append('<div class="ch-bg z-v3 hidden-xs hidden-sm"></div>'):$("html").append('<div class="ch-bg z-v3 bg-transp hidden-xs hidden-sm"></div>'),$(".ch-bg.z-v3").toggleClass("active")):($(".menu-header-box.type-menu-h-1").removeClass("m-sticky").css("top","0px"),$(".menu-header-box.type-menu-h-1 #menu-vertical-list > li").removeClass("menu-open"),$(".ch-bg.z-v3").remove())}function chmCloseMenu(){$("html").removeClass("vw-100"),$("html").removeClass("modal-open"),$(".ch-bg").remove(),$(".menu-header-box").hasClass("type-menu-h-2")?($(".menu-header-box.type-menu-h-2").toggleClass("left-open"),$("#menu-vertical-list > li").removeClass("menu-open"),setTimeout(function(){$(".menu-header-box.type-menu-h-1, .menu-header-box.type-menu-h-2").removeClass("active-m"),$("#menu-vertical").removeClass("open")},200)):($(".menu-header-box.type-menu-h-1, .menu-header-box.type-menu-h-2").removeClass("active-m"),$("#menu-vertical").removeClass("open"),$(".menu-header-box.type-menu-h-2").toggleClass("left-open"))}function fm_activeMenu(){$(".mob-menu-info-fixed-left").removeClass("hidden"),$("#fm-fixed-mobile-bottom").length&&$("#fm-fixed-mobile-bottom").addClass("z-index-low"),setTimeout(function(){$(".mob-menu-info-fixed-left").toggleClass("active")},20),$("body").toggleClass("no-scroll"),$(".mob-menu-info-fixed-left").before('<div class="ch-bg-mob hidden-md hidden-lg"></div>'),$(".ch-bg-mob").toggleClass("active")}function close_mob_menu(){$(".mob-menu-info-fixed-left").removeClass("active"),$("#fm-fixed-mobile-bottom").removeClass("z-index-low"),$("body").removeClass("no-scroll"),$(".ch-bg-mob").remove(),setTimeout(function(){$(".mob-menu-info-fixed-left").addClass("hidden")},200)}function open_mob_menu_left(){$(".mob-menu-info-fixed-left > div").removeClass("active").removeAttr("style"),fm_activeMenu(),0==$("#mob-catalog-left.mob-menu .mobm-body").find("#mm-mobile").length&&$("#mob-catalog-left.mob-menu .mobm-body").load("index.php?route=common/menuvh/load_mob_menu")}$(document).on("mouseenter",".menu-header-box.type-menu-h-1:not(.m-sticky) .menu-box",function(){$("html").hasClass("vw-100")||($("html").toggleClass("vw-100"),$("#menu-vertical").toggleClass("open"),$("html").hasClass("vw-100")?($(".menu-box").hasClass("menu_mask")?$("html").append('<div class="ch-bg z-v3 hidden-xs hidden-sm"></div>'):$("html").append('<div class="ch-bg z-v3 bg-transp hidden-xs hidden-sm"></div>'),$(".ch-bg.z-v3").toggleClass("active")):$(".ch-bg.z-v3").remove())}).on("mouseleave",".menu-header-box.type-menu-h-1:not(.m-sticky):not(.active-m) .menu-box",function(){chmCloseMenu()}),$(document).on("click",".btn-menu-top.vh1, .btn-menu-top.vh1-bl",function(){toggleMenu(),$("#menu-vertical-list > li").hasClass("menu-open")||$(".menu-header-box.type-menu-h-1:not(.m-sticky)").hasClass("mm_open_hp")||$("#menu-vertical-list > li:first-child").addClass("menu-open"),heightMenu()}),$(window).resize(function(){chm_delay(function(){heightMenu()},30,"heightMenu")}),$(document).on("click",".ch-bg",function(){chmCloseMenu()}),$(document).on("click",".btn-menu-top.vh2",function(){$("html").addClass("modal-open"),$("html").append('<div class="ch-bg z-v4 hidden-xs hidden-sm"></div>'),$(".menu-header-box.type-menu-h-2").addClass("active-m"),$("#menu-vertical").addClass("open"),$(".ch-bg").addClass("active"),setTimeout(function(){$(".menu-header-box.type-menu-h-2").toggleClass("left-open")},20)}),$(document).on("click",".close-menu-left",function(){$(".ch-bg").trigger("click")}),$(function(){1==$("header").hasClass("fix-header")&&fixTopMenu(),mmpro_aim()}),$(function(){viewport().width<=991&&($(".mobm-header-block .lang-cur").append($(".box-language #language")),$(".mobm-header-block .lang-cur").append($(".box-currency #currency")),$(".box-account-mob").append($(".box-account >")),$(".mm-compare").prepend($(".box-compare #compare-total")),$(".mm-wishlist").prepend($(".box-wishlist #wishlist-total")),$(".links-mob").append($(".header-nav-links"))),$(window).resize(function(){chm_delay(function(){viewport().width<=991?($(".mobm-header-block .lang-cur").append($(".box-language #language")),$(".mobm-header-block .lang-cur").append($(".box-currency #currency")),$(".box-account-mob").append($(".box-account >")),$(".mm-compare").prepend($(".box-compare #compare-total")),$(".mm-wishlist").prepend($(".box-wishlist #wishlist-total")),$(".links-mob").append($(".header-nav-links"))):($(".box-nav-links").prepend($(".links-mob .header-nav-links")),$(".box-compare").append($(".mm-compare #compare-total")),$(".box-wishlist").append($(".mm-wishlist #wishlist-total")),$(".box-account").append($(".box-account-mob >")),$(".box-language").append($(".mobm-header-block .lang-cur #language")),$(".box-currency").append($(".mobm-header-block .lang-cur #currency"))),1==$("header").hasClass("fix-header")&&fixTopMenu()},50,"change_header")})}),$(document).on("click","#ch_mobm_catalog, .open-mob-catalog",function(){new Promise(function(e,o){0===$("#mob-catalog-left.mob-menu .mobm-body").find("#mm-mobile").length?$("#mob-catalog-left.mob-menu .mobm-body").load("index.php?route=common/menuvh/load_mob_menu",function(){e()}):e()}).then(function(){$("#mob-catalog-left").removeClass("hidden"),setTimeout(function(){$("#mobm-left-content").css("transform","translateX(-100%)"),$("#mob-catalog-left").addClass("active").css("transform","translateX(0px)")},20),$("#mob-catalog-left").hasClass("open-mob-catalog")&&setTimeout(function(){fm_activeMenu()},30)})}),$(document).on("click",".go-back-catalog",function(){$("#mobm-left-content").removeAttr("style"),$("#mob-catalog-left").removeClass("active").removeAttr("style"),setTimeout(function(){$("#mob-catalog-left").addClass("hidden")},500)}),$(document).on("click","#mm-mobile .go-2level",function(e){$(this).next().removeClass("d-none"),setTimeout(function(){$("#mob-catalog-left").css("transform","translateX(-100%)")},20)}),$(document).on("click","#mm-mobile .go-3level",function(e){$(this).next().removeClass("d-none"),setTimeout(function(){$("#mob-catalog-left").css("transform","translateX(-200%)")},20)}),$(document).on("click",".back-2level",function(){$("#mob-catalog-left").css("transform","translateX(0px)");var e=$(this).parent();setTimeout(function(){e.addClass("d-none")},500)}),$(document).on("click",".back-3level",function(){$("#mob-catalog-left").css("transform","translateX(-100%)");var e=$(this).parent();setTimeout(function(){e.addClass("d-none")},500)}),$(document).on("click","#ch_mobm_contact",function(){0==$("#mob-info-contact").find(".contact-header").length&&$(".phone-box .contact-header").clone().appendTo("#mob-info-contact .mobm-body"),$("#mob-info-contact").removeClass("hidden"),setTimeout(function(){$("#mobm-left-content").css("transform","translateX(-100%)"),$("#mob-info-contact").addClass("active").css("transform","translateX(0px)")},20)}),$(document).on("click",".btn-open-contact",function(){0==$("#mob-info-contact").find(".contact-header").length&&$(".phone-box .contact-header").clone().appendTo("#mob-info-contact .mobm-body"),$("#mob-info-contact").removeClass("hidden"),$("#mobm-left-content").css("transform","translateX(-100%)"),$("#mob-info-contact").addClass("active").css("transform","translateX(0px)"),fm_activeMenu()}),$(document).on("click",".go-back-contact",function(){$("#mobm-left-content").removeAttr("style"),$("#mob-info-contact").removeClass("active").removeAttr("style"),setTimeout(function(){$("#mob-info-contact").addClass("hidden")},500)}),$(document).on("click","#ch_mobm_viewed",function(){$("#mob-info-viewed .mobm-body").load("index.php?route=chameleon/viewed_product/getViewedProduct"),$("#mob-info-viewed").removeClass("hidden"),setTimeout(function(){$("#mobm-left-content").css("transform","translateX(-100%)"),$("#mob-info-viewed").addClass("active").css("transform","translateX(0px)")},20)}),$(document).on("click",".go-back-viewed",function(){$("#mobm-left-content").removeAttr("style"),$("#mob-info-viewed").removeClass("active").removeAttr("style"),setTimeout(function(){$("#mob-info-viewed").addClass("hidden")},500)}),$(document).on("click",".btn-open-search",function(){$(this).closest("#fm-fixed-mobile-bottom").hasClass("fm_type_design_bottom_2")&&$(this).closest("#fm-fixed-mobile-bottom").addClass("go-bottom"),$("body").addClass("no-scroll"),$(".search_fix_mob").removeClass("hidden"),setTimeout(function(){$(".search_fix_mob").addClass("open-search")},20),$("html").append('<div class="ch-bg-search hidden-md hidden-lg"></div>'),$(".ch-bg-search").toggleClass("active")}),$(document).on("click",".fm-close-search,.ch-bg-search",function(){$(".search_fix_mob").removeClass("open-search"),$("#fm-fixed-mobile-bottom").removeClass("go-bottom"),$(".ch-bg-search").remove(),$("body").removeClass("no-scroll"),setTimeout(function(){$(".search_fix_mob").addClass("hidden")},200)}),$(".mob-block-close").click(function(){$(".mob-block-fix").fadeOut()}),$(document).on("click",'[data-toggle="close_mob_menu"],.ch-bg-mob',function(){close_mob_menu()})
